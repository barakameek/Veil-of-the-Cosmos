<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epitaph: The Last Dominion</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Faction Selection Modal (Initially visible) -->
    <div id="faction-selection-modal">
        <div class="modal-content">
            <h1>Choose Your Faction</h1>
            <p>Your choice will determine your unique abilities and path to victory.</p>
            <div id="faction-choices">
                <!-- Faction buttons will be generated by JS -->
            </div>
        </div>
    </div>

    <!-- Main container for the entire game interface -->
    <div id="game-container" class="hidden">

        <!-- The central game area including the board and God mat -->
        <main id="main-content">
            <header id="game-header">
                <h1>Epitaph: The Last Dominion</h1>
                <div id="game-status">
                    <p>Current Turn: <span id="turn-counter">1</span></p>
                    <p id="game-phase">Phase: The Shaping</p>
                </div>
            </header>

            <!-- The Elder God's area, tracking the world's doom -->
            <div id="elder-god-mat">
                <div class="mat-section">
                    <h2>The Slumbering God</h2>
                    <div id="awakening-track">
                        <span>Awakening:</span>
                        <div id="awakening-value">0 / 20</div>
                    </div>
                </div>
                <div class="mat-section">
                    <h2>The World Soul</h2>
                    <div id="world-soul-track">
                        <span>Balance:</span>
                        <div id="world-soul-value">0</div>
                    </div>
                </div>
            </div>

            <!-- The shared world grid where locations are placed -->
            <div id="world-grid">
                <!-- Grid cells will be dynamically generated by JavaScript -->
            </div>

        </main>

        <!-- The player's dedicated area, including faction info, resources, and hand -->
        <aside id="player-area">
            <div id="player-mat">
                <h3 id="player-faction-name">FACTION NAME</h3>
                <p id="player-faction-ability" class="faction-ability-desc">Faction ability description goes here.</p>
                <div id="player-resources">
                    <!-- Resource elements are still here, but now updated at start of turn -->
                    <div class="resource"><span class="resource-label">Aegis:</span><span id="aegis-value" class="resource-value"></span></div>
                    <div class="resource"><span class="resource-label">Production:</span><span id="production-value" class="resource-value"></span></div>
                    <div class="resource"><span class="resource-label">Insight:</span><span id="insight-value" class="resource-value"></span></div>
                    <div class="resource"><span class="resource-label">Faith:</span><span id="faith-value" class="resource-value"></span></div>
                </div>
            </div>

            <!-- The player's hand of cards -->
            <div id="player-hand-area">
                <h4>Your Hand (Click a card to select)</h4>
                <div id="player-hand">
                    <!-- Card elements will be dynamically generated by JavaScript -->
                </div>
            </div>

            <!-- Game controls and a log for messages -->
            <div id="controls-area">
                <div class="button-group">
                    <button id="gather-button" title="Skip playing a card to gain 2 Production and 1 Faith.">Gather Resources</button>
                    <button id="end-turn-button">End Turn</button>
                </div>
                <div id="game-log">
                    <p>Choose your faction to begin shaping the world.</p>
                </div>
            </div>

        </aside>

    </div>

    <!-- The 'defer' attribute ensures the script runs after the HTML is parsed -->
    <script src="game.js" defer></script>
</body>
</html>
